var frodo=function(k){"use strict";function ownKeys(k,I){var C=Object.keys(k);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(k);I&&(O=O.filter(function(P){return Object.getOwnPropertyDescriptor(k,P).enumerable})),C.push.apply(C,O)}return C}function _objectSpread(k){for(var I=1;I<arguments.length;I++){var C=arguments[I]!=null?arguments[I]:{};I%2?ownKeys(Object(C),!0).forEach(function(O){_defineProperty(k,O,C[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(C)):ownKeys(Object(C)).forEach(function(O){Object.defineProperty(k,O,Object.getOwnPropertyDescriptor(C,O))})}return k}function _defineProperty(k,I,C){return(I=_toPropertyKey(I))in k?Object.defineProperty(k,I,{value:C,enumerable:!0,configurable:!0,writable:!0}):k[I]=C,k}function _toPropertyKey(k){var I=_toPrimitive(k,"string");return typeof I=="symbol"?I:I+""}function _toPrimitive(k,I){if(typeof k!="object"||!k)return k;var C=k[Symbol.toPrimitive];if(C!==void 0){var O=C.call(k,I||"default");if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(k)}/*! js-cookie v3.0.5 | MIT */function I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}var C={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function O(e,t){function n(r,a,i){if(!(typeof document>"u")){i=I({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,i[c]!==!0&&(s+="="+i[c].split(";")[0]));return document.cookie=r+"="+e.write(a,r)+s}}function o(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var a=document.cookie?document.cookie.split("; "):[],i={},s=0;s<a.length;s++){var c=a[s].split("="),l=c.slice(1).join("=");try{var m=decodeURIComponent(c[0]);if(i[m]=e.read(l,m),r===m)break}catch{}}return r?i[r]:i}}return Object.create({set:n,get:o,remove:function(r,a){n(r,"",I({},a,{expires:-1}))},withAttributes:function(r){return O(this.converter,I({},this.attributes,r))},withConverter:function(r){return O(I({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var P=O(C,{path:"/"});const _=[];for(let e=0;e<256;++e)_.push((e+256).toString(16).slice(1));function ot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(_[e[t+0]]+_[e[t+1]]+_[e[t+2]]+_[e[t+3]]+"-"+_[e[t+4]]+_[e[t+5]]+"-"+_[e[t+6]]+_[e[t+7]]+"-"+_[e[t+8]]+_[e[t+9]]+"-"+_[e[t+10]]+_[e[t+11]]+_[e[t+12]]+_[e[t+13]]+_[e[t+14]]+_[e[t+15]]).toLowerCase()}let ce;const rt=new Uint8Array(16);function it(){if(!ce){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ce=crypto.getRandomValues.bind(crypto)}return ce(rt)}const Le={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function st(e,t,n){var o,r,a,i;e=e||{};const s=(o=(r=e.random)!==null&&r!==void 0?r:(a=(i=e).rng)===null||a===void 0?void 0:a.call(i))!==null&&o!==void 0?o:it();if(s.length<16)throw new Error("Random bytes length must be >= 16");if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(let c=0;c<16;++c)t[n+c]=s[c];return t}return ot(s)}function le(e,t,n){return Le.randomUUID&&!t&&!e?Le.randomUUID():st(e,t,n)}const Ce=e=>new Date(new Date().getTime()+e*60*1e3),ue="https://et.landingi.com",at="error_form",_e="start_filling_form",ee="s_f_f",Oe="visit",xe="v",ct="view_lightbox",Be="click_accordion",lt="scroll",Re="s",de="cannot_find_lightbox",me="cookie_value",ge="thankyou",Ne="main",te=255,U="data_",Pe="activity_time",V=()=>{const{conversion:e}=window;return e!=null&&e.hash?ge:Ne};function ut(e){const t={};return new URLSearchParams(new URL(e).search).forEach((o,r)=>{if(["utm_campaign","utm_term","utm_content","utm_medium","utm_source"].includes(r)){const i=r;t[i]=o}}),Object.keys(t).length===0?null:t}const dt=e=>ut(e),mt=()=>{const e=P.get("_ga");if(!e)return null;const t=e.split("."),n="".concat(t[2],".").concat(t[3]);return n.length>50?n.substring(0,50):n},gt=e=>{if(!e)return"";const n=e.substring(0,te).trim().split(" "),o=n.length-1;let a=n.reduce((l,m)=>l+encodeURIComponent(m).length,0)+o,i;for(;n.length>0&&a>te;)if(i=n.pop(),i){const l=encodeURIComponent(i).length;a--,a-=l}let s="";if(a<te&&i){let l=te-a;const m=[...i];for(;l>0&&m.length>0;){const h=m.shift();if(h){const b=encodeURIComponent(h).length;b<=l&&(l-=b,s+=h)}}}return s.length&&n.push(s),n.join(" ")},B=async e=>{let{type:t,element_id:n,label:o,cookieValue:r,data:a,page_location:i,is_bot:s}=e;const{tid:c,luuid:l,lhash:m,auuid:h}=a,b=V(),w=window.location.href,T=dt(w),v=mt(),g=gt(o),f=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({type:t,label:g},n&&{element_id:n}),{},{session:r},c&&{tid:c.toString()}),l&&{landing_uuid:l}),m&&{variant_hash:m}),h&&{account_uuid:h}),b&&{page_type:b}),T&&_objectSpread({},T)),v&&{ga_client_id:v}),i&&{page_location:i}),s&&{is_bot:s});await(async()=>{const S="".concat(ue,"/v2/publish-event");try{const u=await fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!u.ok)throw new Error("Request failed with status ".concat(u.status))}catch(u){console.error(u)}})()},ft=(e,t)=>["widget-button","widget-image","widget-svgicon"].includes(t)&&e.classList.contains(t),ht=(e,t)=>{var n;const o=t.map(i=>"".concat(i)).join(","),r=e==null||(n=e.querySelectorAll)===null||n===void 0?void 0:n.call(e,o),a=Array.from(r||[]).filter(i=>i.tagName==="A");return a.length>0?a:ft(e,o)?[e]:[]},bt=e=>{var t;const n=e,o=n==null||(t=n.parentElement)===null||t===void 0?void 0:t.classList;return o!=null&&o.contains("widget-button")?"click_button":o!=null&&o.contains("widget-image")?"click_image":o!=null&&o.contains("widget-svgicon")?"click_icon":""},pt=e=>{var t,n,o;const r=e,a=(t=r.parentElement)===null||t===void 0?void 0:t.getAttribute("data-origin-label"),i=r==null||(n=r.parentElement)===null||n===void 0?void 0:n.innerText,s=a??i,c=r==null?void 0:r.parentElement,l=(o=c.getAttribute("href"))===null||o===void 0?void 0:o.split("://")[1],m=c.getAttribute("subtype"),h=m==="popup",b=m==="anchor",w=c==null?void 0:c.classList.contains("widget-button");if(h&&!w){var T;const v=(T=c.getAttribute("href"))===null||T===void 0?void 0:T.split("#")[1];if(!v)return de;const g=document.getElementById(v);if(g==null)return de;const f=g==null?void 0:g.getAttribute("data-lightbox-name");return f??de}if(b){const v=c.getAttribute("href");if(w){const g=c.getAttribute("data-origin-label"),f=c==null?void 0:c.innerText;return g??f}return v}return l!=="lp.landingi.cc"&&l!=="www.landpagepreview.com"&&(s==null?void 0:s.length)===0?l:s&&s.length>0?s:""},Me=[];function D(e){let{parentElement:t,data:n,cookieValue:o,selectors:r}=e;[...document.querySelectorAll(".widget-image")].filter(s=>s.nodeName==="IMG"&&s.hasAttribute("data-gallery")).forEach(s=>{const c=s.getAttribute("id");c&&(Me.includes(c)||(Me.push(c),s.addEventListener("click",l=>{const m=l.target,h="click_image",b=s.getAttribute("data-gallery");m!=null&&m.id&&B({type:h,element_id:m.id,label:b||void 0,cookieValue:o,data:n})})))}),ht(t,r).forEach(s=>{s.addEventListener("click",c=>{var l;const m=c.target,h=bt(m),b=pt(m);m!=null&&(l=m.parentElement)!==null&&l!==void 0&&l.id&&B({type:h,element_id:m.parentElement.id,label:b||"",cookieValue:o,data:n})})})}const H=(e,t)=>{e.forEach(n=>{const o=document.createElement("input");o.type="hidden",o.name="_session",o.value=t,n.appendChild(o);const r=n.querySelector('.widget-input-button[type="submit"]');if(!r)return;const a=r.getAttribute("data-origin-label"),i=r.innerText,s=document.createElement("input");s.type="hidden",s.name="_form_submit_label",s.value=a??i,n.appendChild(s)})},fe=e=>{const t=new URL(e),n=t.pathname.split("/")[1];return n===""||n===void 0?t.host:n},he=e=>{const t=e.querySelector('.widget-input-button[type="submit"]');if(!t)return;const n=t.getAttribute("data-origin-label"),o=t.innerText,r=n??o;return r||t.textContent},je=(e,t,n)=>{e.forEach(o=>{const r=/^widget-input-[a-zA-Z]+$/,a=Array.from(o.querySelectorAll("input")).filter(T=>T.className.split(" ").some(g=>g.match(r)!==null)),i=Array.from(o.querySelectorAll("select")).filter(T=>T.className.split(" ").some(g=>g.match(r)!==null)),s=Array.from(o.querySelectorAll("textarea")).filter(T=>T.className.split(" ").some(g=>g.match("widget-textarea")!==null)),c=Array.from(o.querySelectorAll("input")).filter(T=>T.className.split(" ").some(g=>g.match("file-input")!==null)),l=he(o);if(l!==""&&!l)return;const m=[...a,...i,...s,...c],h=window.location.href,b=fe(h),w="previousCookieValues-".concat(b);m.forEach(T=>{T.addEventListener("focus",()=>{if(o.id!==null){const v=o.id,g=localStorage.getItem(w),f=g!==null?JSON.parse(g):{},L=f[v];n!==L&&(B({type:_e,element_id:v,label:l,cookieValue:n,data:t}),f[v]=n,localStorage.setItem(w,JSON.stringify(f)))}})})})},vt=e=>e.classList.contains("widget-paypal")?"click_paypal_button":e.classList.contains("widget-payu")?"click_payu_button":e.classList.contains("widget-stripe")?"click_stripe_button":"click_pay_button",be=(e,t)=>{[...document.querySelectorAll(".widget-paypal"),...document.querySelectorAll(".widget-payu"),...document.querySelectorAll(".widget-stripe")].forEach(o=>{o.addEventListener("click",r=>{const a=r.target,i=vt(o),s=o.getAttribute("data-product-name");a!=null&&a.id&&s&&B({type:i,element_id:a.id,label:s,cookieValue:e,data:t})})})},yt=(e,t,n)=>{const o=e.getAttribute("data-uid");if(!o)return;const r=document.getElementById(o);if(!r)return;const a=r.getAttribute("parentid");if(!a)return;const i=document.getElementById(a);if(!i)return;const s=he(i);s!==""&&!s||B({type:at,element_id:a,label:s,cookieValue:n,data:t})},wt=(e,t,n)=>{if(!e||e.getAttribute("data-observed")||(e.setAttribute("data-observed","true"),!t))return;e.getAttribute("data-handled")||(e.setAttribute("data-handled","true"),yt(e,n,t));const o=new MutationObserver(()=>{e.removeAttribute("data-observed"),o.disconnect()});e.parentNode&&o.observe(e.parentNode,{childList:!0,subtree:!0})},pe=(e,t)=>{const n=".form-error-tooltip",o=document.querySelectorAll(n),r={};o.forEach(a=>{const i=a.getAttribute("data-uid");if(!i)return;const s=document.getElementById(i);if(!s)return;const c=s.getAttribute("parentid");c&&(r[c]||(wt(a,e,t),r[c]=!0))})},ve=e=>{[...document.querySelectorAll(".widget-paypal"),...document.querySelectorAll(".widget-payu"),...document.querySelectorAll(".widget-stripe")].forEach(n=>n.setAttribute("data-session",e))},N=e=>{try{return localStorage.getItem(e)}catch{return null}},j=(e,t)=>{try{localStorage.setItem(e,t)}catch{return}},ye=e=>{try{localStorage.removeItem(e)}catch{return}};var Tt=" daum[ /]| deusu/|(?:^|[^g])news(?!sapphire)|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bots?(?:\\b|_)|(?<!(?:lib))http|(?<![hg]m)score|(?<!cam)scan|24x7|@[a-z][\\w-]+\\.|\\(\\)|\\.com\\b|\\btime/|\\||^<|^[\\w \\.\\-\\(?:\\):%]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)|^[^ ]{50,}$|^\\d+\\b|^\\w*search\\b|^\\w+/[\\w\\(\\)]*$|^active|^ad muncher|^amaya|^avsdevicesdk/|^azure|^biglotron|^bot|^bw/|^clamav[ /]|^client/|^cobweb/|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^email|^facebook|^getright/|^gozilla/|^hobbit|^hotzonu|^hwcdn/|^igetter/|^jeode/|^jetty/|^jigsaw|^microsoft bits|^movabletype|^mozilla/\\d\\.\\d\\s[\\w\\.-]+$|^mozilla/\\d\\.\\d\\s\\(compatible;?(?:\\s\\w+\\/\\d+\\.\\d+)?\\)$|^navermailapp|^netsurf|^offline|^openai/|^owler|^php|^postman|^python|^rank|^read|^reed|^rest|^rss|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^track|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^wordpress|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|agent|analyzer|archive|ask jeeves/teoma|audit|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check\\b|checker|chrome-lighthouse|chromeframe|classifier|cloudflare|convertify|crawl|cypress/|dareboost|datanyze|dejaclick|detect|dmbrowser|download|evc-batch/|exaleadcloudview|feed|fetcher|firephp|functionize|grab|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|infrawatch|insight|inspect|iplabel|java(?!;)|library|linkcheck|mail\\.ru/|manager|measure|neustar wpm|node|nutch|offbyone|onetrust|optimize|pageburst|pagespeed|parser|perl|phantomjs|pingdom|powermarks|preview|proxy|ptst[ /]\\d|retriever|rexx;|rigor|rss\\b|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|supercleaner|synapse|synthetic|tools|torrent|transcoder|url|validator|virtuoso|wappalyzer|webglance|webkit2png|whatcms/|xtate/",Et=/bot|crawl|http|lighthouse|scan|search|spider/i,Y;function kt(){if(Y instanceof RegExp)return Y;try{Y=new RegExp(Tt,"i")}catch{Y=Et}return Y}function St(e){return!!e&&kt().test(e)}const we=()=>{try{var e;const t=(e=window)===null||e===void 0||(e=e.navigator)===null||e===void 0?void 0:e.userAgent;return t?St(t):!1}catch{return!1}},It=async e=>{let{cookieValue:t,data:n,url:o}=e;const r=fe(o),a="cookie-value-visit-".concat(r),i=N(a),s=i!==null?JSON.parse(i):{},c=we();t!==s&&(await B({type:Oe,cookieValue:t,data:n,page_location:o,is_bot:c}),j(a,JSON.stringify(t)))},Ue=async e=>{let{scroll_depth:t,cookieValue:n,data:o}=e;const{luuid:r,lhash:a,auuid:i}=o,s=V(),c=_objectSpread({session_id:n,scroll_depth:t,landing_uuid:r,variant_hash:a,account_uuid:i},s&&{page_type:s.toString()}),l="".concat(ue,"/scroll?").concat(new URLSearchParams(_objectSpread({},c)));try{const m=await fetch(l);if(!m.ok)throw new Error("Request failed with status ".concat(m.status))}catch(m){console.error(m)}},At=(e,t,n)=>{const o=t===ge?"-typ":"";localStorage.setItem("".concat(me,"-").concat(e).concat(o),JSON.stringify(n))},Ve={10:"10",25:"25",50:"50",75:"75",90:"90",99:"100"},De={},Lt=(e,t)=>{const n=window.location.href,o=fe(n),r=V(),a=r===Ne?localStorage.getItem("".concat(me,"-").concat(o)):localStorage.getItem("".concat(me,"-").concat(o,"-typ")),i=a!==null?JSON.parse(a):{},s=()=>{const{scrollHeight:c}=document.documentElement,l=window.innerHeight,b=(window.scrollY+l)/c*100;if(b>=10){let w=0;Object.keys(Ve).map(Number).forEach(T=>{b>=T&&(w=T)}),De[w]||(De[w]=!0,Ue({scroll_depth:Ve[w],cookieValue:e,data:t}),At(o,r,e))}};e!==i&&(s(),window.addEventListener("scroll",()=>{s()}))},He=e=>new URL(e).protocol.includes("https"),F=e=>{let{lightbox:t,cookieValue:n,data:o}=e;const r=t.getAttribute("id");if(!r)return;let a=t.classList.contains("show-lightbox");new MutationObserver(s=>{s.forEach(c=>{if(c.type==="attributes"&&c.attributeName==="class"){const l=t.classList.contains("show-lightbox");if(l&&!a){const m=t.getAttribute("data-lightbox-name")||"";B({type:ct,element_id:r,label:m,cookieValue:n,data:o})}a=l}})}).observe(t,{attributes:!0})},q=e=>{const t=o=>o instanceof HTMLAnchorElement;return e.filter(t)},$=e=>e.filter(n=>{const o=n.hasAttribute("subtype"),r=n.getAttribute("subtype")==="redirect"||n.getAttribute("subtype")==="landingpage",a=n.getAttribute("href")||"",i=!a.startsWith("mailto:")&&!a.startsWith("tel:")&&!a.startsWith("sms:")&&!a.startsWith("callto:");return o&&r&&i}),Ct=e=>{let{accordionHeader:t,accordionElement:n,triggerToOpen:o,label:r,cookieValue:a,data:i}=e;if(o==="icon/image"){const s=t.querySelector(".accordion-trigger");s&&s.addEventListener("click",()=>{B({type:Be,element_id:n.id,label:r||void 0,cookieValue:a,data:i})})}else t.addEventListener("click",()=>{B({type:Be,element_id:n.id,label:r||void 0,cookieValue:a,data:i})})},Te=(e,t)=>{document.querySelectorAll(".widget-accordion").forEach(o=>{const r=Array.from(o.children),a=o.getAttribute("data-trigger");r.forEach(i=>{var s;const c=i.querySelector(".accordion-heading-container");if(!c)return;const l=(s=c.querySelector(".accordion-heading-text"))===null||s===void 0?void 0:s.textContent;Ct({accordionHeader:c,accordionElement:i,triggerToOpen:a,label:l,cookieValue:e,data:t})})})},W=e=>e.filter(n=>{const o=n.getAttribute("href")||"",r=o.startsWith("mailto:")||o.startsWith("tel:")||o.startsWith("sms:")||o.startsWith("callto:");return o&&r}),J=(e,t)=>{e.forEach(n=>{n.setAttribute("data-session-value",t)})},Fe=async e=>{let{cookieValue:t,data:n,eventHandlers:o}=e;const{getEvent:r,setEvent:a}=o,i=we();r(xe)!==!0&&(await B({type:Oe,cookieValue:t,data:n,page_location:window.location.href,is_bot:i}),a(xe))},qe={10:"10",25:"25",50:"50",75:"75",90:"90",99:"100"},$e={},We=e=>{let{cookieValue:t,data:n,eventHandlers:o}=e;const{getEvent:r,setEvent:a}=o,i=()=>{const{scrollHeight:s}=document.documentElement,c=window.innerHeight,h=(window.scrollY+c)/s*100;if(h>=10){let b=0;Object.keys(qe).map(Number).forEach(w=>{h>=w&&(b=w)}),$e[b]||($e[b]=!0,Ue({scroll_depth:qe[b],cookieValue:t,data:n}))}};r(Re)!==!0&&(i(),window.addEventListener(lt,()=>{i()}),a(Re))},ne=e=>{let{forms:t,data:n,cookieValue:o,eventHandlers:r}=e;const{setEvent:a,getEvent:i}=r;t.forEach(s=>{const c=/^widget-input-[a-zA-Z]+$/,l=Array.from(s.querySelectorAll("input")).filter(v=>v.className.split(" ").some(f=>f.match(c)!==null)),m=Array.from(s.querySelectorAll("select")).filter(v=>v.className.split(" ").some(f=>f.match(c)!==null)),h=Array.from(s.querySelectorAll("textarea")).filter(v=>v.className.split(" ").some(f=>f.match("widget-textarea")!==null)),b=Array.from(s.querySelectorAll("input")).filter(v=>v.className.split(" ").some(f=>f.match("file-input")!==null)),w=he(s);if(w!==""&&!w)return;[...l,...m,...h,...b].forEach(v=>{v.addEventListener("focus",()=>{if(s.id!==null){const g=s.id,f=i(ee);typeof f=="object"&&f[g]!==!0&&(B({type:_e,element_id:g,label:w,cookieValue:o,data:n}),a(ee,{formId:g}))}})})})},G=(e,t)=>{e.forEach(n=>{const o=n.getAttribute("href");if(o)try{const r=new URL(o,window.location.href);r.searchParams.set("_session",t),n.setAttribute("href",r.href)}catch(r){console.error("Invalid URL:",o,r)}})},z=e=>{let{redirectButtons:t,cookieValue:n,data:o}=e;t.forEach(r=>{const a=r.getAttribute("href");if(a)try{const i=new URL(a,window.location.href);i.searchParams.set("_la_s",n),i.searchParams.set("_la_lid",o.luuid),i.searchParams.set("_la_vh",o.lhash),i.searchParams.set("_la_aid",o.auuid),r.setAttribute("href",i.href)}catch(i){console.error("Invalid URL:",a,i)}})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
  See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ee=function(){return Ee=Object.assign||function(t){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ee.apply(this,arguments)};function _t(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var oe=_t,re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ot=typeof re=="object"&&re&&re.Object===Object&&re,xt=Ot,Bt=typeof self=="object"&&self&&self.Object===Object&&self,Rt=xt||Bt||Function("return this")(),Je=Rt,Nt=function(){return Je.Date.now()},ke=Nt,Pt=Je.Symbol,ie=Pt,Ge=Object.prototype,Mt=Ge.hasOwnProperty,jt=Ge.toString,X=ie?ie.toStringTag:void 0;function Ut(e){var t=Mt.call(e,X),n=e[X];try{e[X]=void 0;var o=!0}catch{}var r=jt.call(e);return o&&(t?e[X]=n:delete e[X]),r}var Vt=Ut,Dt=Object.prototype,Ht=Dt.toString;function Ft(e){return Ht.call(e)}var qt=Ft,$t="[object Null]",Wt="[object Undefined]",ze=ie?ie.toStringTag:void 0;function Jt(e){return e==null?e===void 0?Wt:$t:ze&&ze in Object(e)?Vt(e):qt(e)}var Gt=Jt;function zt(e){return e!=null&&typeof e=="object"}var Kt=zt,Yt="[object Symbol]";function Xt(e){return typeof e=="symbol"||Kt(e)&&Gt(e)==Yt}var Zt=Xt,Ke=0/0,Qt=/^\s+|\s+$/g,en=/^[-+]0x[0-9a-f]+$/i,tn=/^0b[01]+$/i,nn=/^0o[0-7]+$/i,on=parseInt;function rn(e){if(typeof e=="number")return e;if(Zt(e))return Ke;if(oe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=oe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Qt,"");var n=tn.test(e);return n||nn.test(e)?on(e.slice(2),n?2:8):en.test(e)?Ke:+e}var Ye=rn,sn="Expected a function",an=Math.max,cn=Math.min;function ln(e,t,n){var o,r,a,i,s,c,l=0,m=!1,h=!1,b=!0;if(typeof e!="function")throw new TypeError(sn);t=Ye(t)||0,oe(n)&&(m=!!n.leading,h="maxWait"in n,a=h?an(Ye(n.maxWait)||0,t):a,b="trailing"in n?!!n.trailing:b);function w(y){var A=o,p=r;return o=r=void 0,l=y,i=e.apply(p,A),i}function T(y){return l=y,s=setTimeout(f,t),m?w(y):i}function v(y){var A=y-c,p=y-l,E=t-A;return h?cn(E,a-p):E}function g(y){var A=y-c,p=y-l;return c===void 0||A>=t||A<0||h&&p>=a}function f(){var y=ke();if(g(y))return L(y);s=setTimeout(f,v(y))}function L(y){return s=void 0,b&&o?w(y):(o=r=void 0,i)}function S(){s!==void 0&&clearTimeout(s),l=0,o=c=r=s=void 0}function u(){return s===void 0?i:L(ke())}function d(){var y=ke(),A=g(y);if(o=arguments,r=this,c=y,A){if(s===void 0)return T(c);if(h)return s=setTimeout(f,t),w(c)}return s===void 0&&(s=setTimeout(f,t)),i}return d.cancel=S,d.flush=u,d}var un=ln,dn="Expected a function";function mn(e,t,n){var o=!0,r=!0;if(typeof e!="function")throw new TypeError(dn);return oe(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),un(e,t,{leading:o,maxWait:t,trailing:r})}var gn=mn,Xe=["scroll","resize"],Ze=["wheel","keydown","keyup","mousedown","mousemove","touchstart","touchmove","click","contextmenu"],fn=function(){function e(t){var n=t.timeIntervalEllapsedCallbacks,o=n===void 0?[]:n,r=t.absoluteTimeEllapsedCallbacks,a=r===void 0?[]:r,i=t.checkCallbacksIntervalMs,s=i===void 0?100:i,c=t.browserTabInactiveCallbacks,l=c===void 0?[]:c,m=t.idleCallbacks,h=m===void 0?[]:m,b=t.stopTimerOnTabchange,w=b===void 0?!0:b,T=t.activeCallbacks,v=T===void 0?[]:T,g=t.browserTabActiveCallbacks,f=g===void 0?[]:g,L=t.idleTimeoutMs,S=L===void 0?3e3:L,u=this;this.onBrowserTabInactive=function(){u.isRunning()&&u.stopTimerOnTabchange&&u.stopTimer(),u.browserTabInactiveCallbacks.forEach(function(d){return d(u.getTimeInMilliseconds())})},this.onBrowserTabActive=function(){u.isRunning()||u.startTimer(),u.browserTabActiveCallbacks.forEach(function(d){return d(u.getTimeInMilliseconds())})},this.onBrowserActiveChange=function(){document.visibilityState==="visible"?u.onBrowserTabActive():u.onBrowserTabInactive()},this.onTimePassed=function(){u.absoluteTimeEllapsedCallbacks.forEach(function(d,y){var A=d.callback,p=d.pending,E=d.timeInMilliseconds;p&&E<=u.getTimeInMilliseconds()&&(A(u.getTimeInMilliseconds()),u.absoluteTimeEllapsedCallbacks[y].pending=!1)}),u.timeIntervalEllapsedCallbacks.forEach(function(d,y){var A=d.callback,p=d.timeInMilliseconds,E=d.multiplier;p<=u.getTimeInMilliseconds()&&(A(u.getTimeInMilliseconds()),u.timeIntervalEllapsedCallbacks[y].timeInMilliseconds=E(p))}),u.currentIdleTimeMs>=u.idleTimeoutMs&&u.isRunning()?(u.idle=!0,u.stopTimer(),u.idleCallbacks.forEach(function(d){return d(u.getTimeInMilliseconds())})):u.currentIdleTimeMs+=u.checkCallbacksIntervalMs},this.resetIdleTime=function(){u.idle&&u.startTimer(),u.activeCallbacks.forEach(function(d){return d(u.getTimeInMilliseconds())}),u.idle=!1,u.currentIdleTimeMs=0},this.registerEventListeners=function(){var d={passive:!0},y=Ee({},d,{capture:!0});document.addEventListener("visibilitychange",u.onBrowserActiveChange);var A=gn(u.resetIdleTime,2e3,{leading:!0,trailing:!1});Xe.forEach(function(p){window.addEventListener(p,A,y)}),Ze.forEach(function(p){return document.addEventListener(p,A,d)})},this.unregisterEventListeners=function(){document.removeEventListener("visibilitychange",u.onBrowserActiveChange),Xe.forEach(function(d){return window.removeEventListener(d,u.resetIdleTime)}),Ze.forEach(function(d){return document.removeEventListener(d,u.resetIdleTime)})},this.checkCallbacksOnInterval=function(){u.checkCallbackIntervalId=window.setInterval(function(){u.onTimePassed()},u.checkCallbacksIntervalMs)},this.startTimer=function(){u.checkCallbackIntervalId||u.checkCallbacksOnInterval();var d=u.times[u.times.length-1];d&&d.stop===null||(u.times.push({start:performance.now(),stop:null}),u.running=!0)},this.stopTimer=function(){u.times.length&&(u.times[u.times.length-1].stop=performance.now(),u.running=!1)},this.addTimeIntervalEllapsedCallback=function(d){u.timeIntervalEllapsedCallbacks.push(d)},this.addAbsoluteTimeEllapsedCallback=function(d){u.absoluteTimeEllapsedCallbacks.push(d)},this.addBrowserTabInactiveCallback=function(d){u.browserTabInactiveCallbacks.push(d)},this.addBrowserTabActiveCallback=function(d){u.browserTabActiveCallbacks.push(d)},this.addIdleCallback=function(d){u.idleCallbacks.push(d)},this.addActiveCallback=function(d){u.activeCallbacks.push(d)},this.getTimeInMilliseconds=function(){return u.times.reduce(function(d,y){return y.stop?d=d+(y.stop-y.start):d=d+(performance.now()-y.start),d},0)},this.isRunning=function(){return u.running},this.isIdle=function(){return u.idle},this.reset=function(){u.times=[]},this.destroy=function(){u.unregisterEventListeners(),u.checkCallbackIntervalId&&window.clearInterval(u.checkCallbackIntervalId)},this.running=!1,this.times=[],this.idle=!1,this.currentIdleTimeMs=0,this.marks={},this.measures={},this.stopTimerOnTabchange=w,this.browserTabActiveCallbacks=f,this.browserTabInactiveCallbacks=l,this.checkCallbacksIntervalMs=s,this.idleTimeoutMs=S,this.timeIntervalEllapsedCallbacks=o,this.absoluteTimeEllapsedCallbacks=a,this.idleCallbacks=h,this.activeCallbacks=v,this.registerEventListeners()}return e.prototype.mark=function(t){this.marks[t]||(this.marks[t]=[]),this.marks[t].push({time:this.getTimeInMilliseconds()})},e.prototype.getMarks=function(t){if(!(this.marks[t].length<1))return this.marks[t]},e.prototype.measure=function(t,n,o){var r=this.marks[n],a=r[r.length-1],i=this.marks[o],s=i[i.length-1];this.measures[t]||(this.measures[t]=[]),this.measures[t].push({name:t,startTime:a.time,duration:s.time-a.time})},e.prototype.getMeasures=function(t){if(!(!this.measures[t]&&this.measures[t].length<1))return this.measures[t]},e}();const hn=async e=>{let{absolute_time:t,activity_time:n,cookieValue:o}=e;const r={session_uuid:o,absolute_time:t,activity_time:n},a="".concat(ue,"/update-time");if(navigator.sendBeacon){const s=new URLSearchParams(_objectSpread({},r));if(navigator.sendBeacon(a,s))return}const i="".concat(a,"?").concat(new URLSearchParams(_objectSpread({},r)));try{const s=await fetch(i);if(!s.ok)throw new Error("Request failed with status ".concat(s.status))}catch(s){console.error(s)}},se={IDLE_TIMEOUT:5e3,CHECK_INTERVAL:250,BACKUP_INTERVAL:5e3,SEND_DEBOUNCE:1e3},Se=e=>{let{cookieValue:t}=e;const n=V();if(we()||n===ge)return;let r=!1,a=!1,i=null;const s=new fn({timeIntervalEllapsedCallbacks:[],absoluteTimeEllapsedCallbacks:[],browserTabInactiveCallbacks:[],browserTabActiveCallbacks:[],idleTimeoutMs:se.IDLE_TIMEOUT,checkCallbacksIntervalMs:se.CHECK_INTERVAL}),c={startTime:Date.now(),totalPausedTime:0,pauseStartTime:null,initialActivityTime:0,initialAbsoluteTime:0,shouldContinue:!1},l=()=>{try{const p=N(Pe);if(!p)return;const E=JSON.parse(p);if(E.cookieValue!==t)return;c.shouldContinue=!0,c.initialActivityTime=Number(E.activity_time)||0,c.initialAbsoluteTime=Number(E.absolute_time)||0}catch{}},m=()=>{const p=Date.now(),E=c.pauseStartTime?c.totalPausedTime+(p-c.pauseStartTime):c.totalPausedTime;return(p-c.startTime-E)/1e3},h=()=>{const p=m(),E=s.getTimeInMilliseconds()/1e3;return{totalAbsoluteTime:(c.shouldContinue?p+c.initialAbsoluteTime:p).toFixed(3),totalActivityTime:(c.shouldContinue?E+c.initialActivityTime:E).toFixed(3)}},b=()=>{try{const{totalAbsoluteTime:p,totalActivityTime:E}=h(),x={cookieValue:t,absolute_time:p,activity_time:E,last_update:Date.now()};j(Pe,JSON.stringify(x))}catch{}},w=async()=>{if(!(r||a)){a=!0;try{const{totalAbsoluteTime:p,totalActivityTime:E}=h();await hn({absolute_time:p,activity_time:E,cookieValue:t}),b()}catch{b()}finally{a=!1}}},T=()=>{i&&clearTimeout(i),i=setTimeout(()=>{w(),i=null},se.SEND_DEBOUNCE)},v=()=>{c.pauseStartTime===null&&(c.pauseStartTime=Date.now())},g=()=>{c.pauseStartTime!==null&&(c.totalPausedTime+=Date.now()-c.pauseStartTime,c.pauseStartTime=null)},f=()=>{r||(document.visibilityState==="hidden"?(v(),T()):document.visibilityState==="visible"&&g())},L=p=>{p.persisted&&!r&&s.startTimer()},S=()=>{r||w()},u=()=>{[["visibilitychange",f],["beforeunload",S],["pagehide",S],["pageshow",L],["blur",f],["focus",f]].forEach(E=>{let[x,R]=E;window.addEventListener(x,R)})},d=()=>{[["visibilitychange",f],["beforeunload",S],["pagehide",S],["pageshow",L],["blur",f],["focus",f]].forEach(E=>{let[x,R]=E;window.removeEventListener(x,R)})};l(),s.startTimer(),u();const y=setInterval(()=>{b()},se.BACKUP_INTERVAL);return()=>{r||(r=!0,i&&(clearTimeout(i),i=null),w(),clearInterval(y),d(),s.destroy())}},Z=(e,t)=>{const{tid:n}=t,o=new FormData;n&&o.append("tid",n.toString()),fetch(e,{method:"POST",body:o}).then(r=>{if(!r.ok)throw new Error("EventTracker: Request failed with status ".concat(r.status,". Response message: ").concat(r.statusText,", response url: ").concat(r.url,". Url: ").concat(e,", data: ").concat(JSON.stringify(t)))}).catch(r=>console.error("EventTracker error in sendVisitToOldStatsSystem: ".concat(r)))},bn=()=>{const e=new Date().getTime(),t=30*60*1e3;for(let n=0;n<localStorage.length;n++){const o=localStorage.key(n);if((o&&o.startsWith("ls_sid_")||o&&o.startsWith("cookie_value-")||o&&o.startsWith("cookie-value-")||o&&o.startsWith("previousCookieValues-"))&&N(o)&&ye(o),o&&o.startsWith(U)){const r=N(o);if(r)try{const{t:a}=JSON.parse(r);e-a>=t&&ye(o)}catch(a){console.error("Error parsing localStorage item in checkAndRemoveExpiredLocalStorageItemsDev: ".concat(a))}}}},pn=e=>{if(e)try{return(e&&JSON.parse(e)).u}catch(t){console.error("Error parsing localStorage item in getCookieValueFromLocalStorage: ".concat(t))}},Ie=(e,t,n)=>{const{hasAccessToVisitWithoutCookie:o,hasAccessToVisitWithLocalStorage:r}=t;if(o){V()==="main"&&Z(n,t);return}bn();let a;if(r){const i="".concat(U).concat(e),s=N(i);a=pn(s)}else a=P.get(e);if(a)try{const i="".concat(U).concat(e);return N(i)||j(i,JSON.stringify({e:{v:!1,s:!1,s_f_f:{}},t:new Date().getTime(),u:a})),a}catch(i){throw new Error("EventTracker: Error: ".concat(i,", data: ").concat(JSON.stringify(t),", name: ").concat(e,", url: ").concat(n))}else{Z(n,t);const i=window.location.href,s=He(i);try{if(!s)throw new Error("EventTracker: URL is not secure. url: ".concat(i));const c=le();r||P.set(e,c,{expires:Ce(30),path:window.location.pathname,secure:!0});const l="".concat(U).concat(e);return j(l,JSON.stringify({e:{v:!1,s:!1,s_f_f:{}},t:new Date().getTime(),u:c})),c}catch(c){throw new Error("EventTracker: Error: ".concat(c,", data: ").concat(JSON.stringify(t),", name: ").concat(e,", url: ").concat(n))}}},Qe=(e,t,n)=>{const{hasAccessToVisitWithoutCookie:o}=t;if(o){V()==="main"&&Z(n,t);return}const r=P.get(e);if(r)return r;{Z(n,t);const a=window.location.href,i=He(a);try{if(!i)throw new Error("EventTracker: URL is not secure. url: ".concat(a));const s=le();P.set(e,s,{expires:Ce(30),path:window.location.pathname,secure:!0});const c=P.get(e);if(!c)throw new Error("EventTracker: Cookie not found. cookieValue: ".concat(c,", cookieName: ").concat(e));return c}catch(s){throw new Error("EventTracker: Error posting cookie: ".concat(s,", data: ").concat(JSON.stringify(t),", name: ").concat(e,", url: ").concat(n))}}},vn=()=>{const e=new Date().getTime(),t=30*60*1e3;for(let n=0;n<localStorage.length;n++){const o=localStorage.key(n);if(o&&o.startsWith("ls_sid_")){const r=N(o);if(r){const{timestamp:a}=JSON.parse(r);e-a>=t&&ye(o)}}}},et=(e,t,n)=>{vn();const o=N(e);if(o){const{value:r}=JSON.parse(o);return r}Z(n,t);try{const a={value:le(),timestamp:new Date().getTime()};return j(e,JSON.stringify(a)),a.value}catch(r){throw new Error("EventTracker: Error setting local storage value: ".concat(r,", data: ").concat(JSON.stringify(t),", name: ").concat(e,", url: ").concat(n))}},yn=async(e,t,n)=>{const{hasAccessToEventTracker:o,hasAccessToEventTrackerData:r,hasAccessToVisitWithLocalStorage:a,hasAccessToExternalEvents:i,hasAccessToLocalStorageOptimization:s,hasAccessToTrackActivityTime:c}=n;if(s){const l=Ie(e,n,t);if(!l)return;const m="".concat(U).concat(e),h=N(m),b=h&&JSON.parse(h),{t:w,e:T,u:v}=b,L={setEvent:(S,u)=>{S===ee?u!=null&&u.formId&&(T[S][u.formId]=!0):T[S]=!0,j(m,JSON.stringify({e:T,t:w,u:v}))},getEvent:S=>T[S]};if(o||r){await Fe({cookieValue:l,data:n,eventHandlers:L}),D({parentElement:document.body,data:n,cookieValue:l,selectors:[".widget-button",".widget-image",".widget-svgicon"]});const S=[...document.getElementsByClassName("widget-form")];H(S,l),ve(l),ne({forms:S,data:n,cookieValue:l,eventHandlers:L}),be(l,n),Te(l,n),We({cookieValue:l,data:n,eventHandlers:L}),c&&Se({cookieValue:l});const u=[...document.getElementsByClassName("widget-button")],d=q(u),y=$(d);i?z({redirectButtons:y,cookieValue:l,data:n}):G(y,l);const A=W(d);J(A,l),document.querySelectorAll("[data-lightbox-name]").forEach(x=>{F({lightbox:x,cookieValue:l,data:n})}),new MutationObserver(x=>{x.forEach(R=>{var K;(K=R.addedNodes)===null||K===void 0||K.forEach(ae=>{if(!(ae instanceof HTMLElement))return;const M=ae;D({parentElement:M,data:n,cookieValue:l,selectors:[".widget-button",".widget-icon",".widget-svgicon"]}),pe(l,n);const Q=[...M.getElementsByClassName("widget-form")];H(Q,l),ne({forms:Q,data:n,cookieValue:l,eventHandlers:L});const Ae=[...M.getElementsByClassName("widget-button")],tt=q(Ae),nt=$(tt);i?z({redirectButtons:nt,cookieValue:l,data:n}):G(nt,l);const Tn=W(tt);J(Tn,l),M.hasAttribute("data-lightbox-name")&&F({lightbox:M,cookieValue:l,data:n})})})}).observe(document.body,{childList:!0,subtree:!0})}}else{const l=a?et(e,n,t):Qe(e,n,t);if(!l)return;if(o||r){await It({cookieValue:l,data:n,url:window.location.href}),D({parentElement:document.body,data:n,cookieValue:l,selectors:[".widget-button",".widget-image",".widget-svgicon"]});const m=[...document.getElementsByClassName("widget-form")];H(m,l),ve(l),je(m,n,l),be(l,n),Te(l,n),Lt(l,n),c&&Se({cookieValue:l});const h=[...document.getElementsByClassName("widget-button")],b=q(h),w=$(b);i?z({redirectButtons:w,cookieValue:l,data:n}):G(w,l);const T=W(b);J(T,l),document.querySelectorAll("[data-lightbox-name]").forEach(f=>{F({lightbox:f,cookieValue:l,data:n})}),new MutationObserver(f=>{f.forEach(L=>{var S;(S=L.addedNodes)===null||S===void 0||S.forEach(u=>{if(!(u instanceof HTMLElement))return;const d=u;D({parentElement:d,data:n,cookieValue:l,selectors:[".widget-button",".widget-icon",".widget-svgicon"]}),pe(l,n);const y=[...d.getElementsByClassName("widget-form")];H(y,l),je(y,n,l);const A=[...d.getElementsByClassName("widget-button")],p=q(A),E=$(p);i?z({redirectButtons:E,cookieValue:l,data:n}):G(E,l);const x=W(p);J(x,l),d.hasAttribute("data-lightbox-name")&&F({lightbox:d,cookieValue:l,data:n})})})}).observe(document.body,{childList:!0,subtree:!0})}}},wn=async(e,t,n)=>{const{hasAccessToEventTracker:o,hasAccessToEventTrackerData:r,hasAccessToExternalEvents:a}=n,i=Ie(e,n,t);if(!i)return;const s="".concat(U).concat(e),c=N(s),l=c&&JSON.parse(c),{t:m,e:h,u:b}=l,v={setEvent:(g,f)=>{g===ee?f!=null&&f.formId&&(h[g][f.formId]=!0):h[g]=!0,j(s,JSON.stringify({e:h,t:m,u:b}))},getEvent:g=>h[g]};if(o||r){await Fe({cookieValue:i,data:n,eventHandlers:v}),D({parentElement:document.body,data:n,cookieValue:i,selectors:[".widget-button",".widget-image",".widget-svgicon"]});const g=[...document.getElementsByClassName("widget-form")];H(g,i),ve(i),ne({forms:g,data:n,cookieValue:i,eventHandlers:v}),be(i,n),Te(i,n),We({cookieValue:i,data:n,eventHandlers:v}),Se({cookieValue:i});const f=[...document.getElementsByClassName("widget-button")],L=q(f),S=$(L);a?z({redirectButtons:S,cookieValue:i,data:n}):G(S,i);const u=W(L);J(u,i),document.querySelectorAll("[data-lightbox-name]").forEach(A=>{F({lightbox:A,cookieValue:i,data:n})}),new MutationObserver(A=>{A.forEach(p=>{var E;(E=p.addedNodes)===null||E===void 0||E.forEach(x=>{if(!(x instanceof HTMLElement))return;const R=x;D({parentElement:R,data:n,cookieValue:i,selectors:[".widget-button",".widget-icon",".widget-svgicon"]}),pe(i,n);const K=[...R.getElementsByClassName("widget-form")];H(K,i),ne({forms:K,data:n,cookieValue:i,eventHandlers:v});const ae=[...R.getElementsByClassName("widget-button")],M=q(ae),Q=$(M);a?z({redirectButtons:Q,cookieValue:i,data:n}):G(Q,i);const Ae=W(M);J(Ae,i),R.hasAttribute("data-lightbox-name")&&F({lightbox:R,cookieValue:i,data:n})})})}).observe(document.body,{childList:!0,subtree:!0})}};return k.postCookieAndGetValue=Qe,k.postCookieOrLocalStorageAndGetValue=Ie,k.postLocalStorageAndGetValue=et,k.runScript=yn,k.runScriptDev=wn,Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),k}({});
